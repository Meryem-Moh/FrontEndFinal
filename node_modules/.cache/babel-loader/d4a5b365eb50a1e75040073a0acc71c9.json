{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mustafa\\\\Documents\\\\MeritBankingService\\\\src\\\\components\\\\login\\\\login.jsx\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Link, Redirect } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"font-awesome/css/font-awesome.min.css\";\nexport class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log('username: ' + this.state.username);\n      console.log('password: ' + this.state.password);\n      const url = \"http://localhost:9090/authenticate\";\n      const data = {\n        username: this.state.username,\n        password: this.state.password\n      };\n      fetch(url, {\n        \"method\": \"POST\",\n        \"headers\": {\n          \"content-type\": \"application/json\" //\"accept\": \"application/json\"\n\n        },\n        \"body\": JSON.stringify(data)\n      }).then(response => response.json()).then(response => {\n        //check if we get a 200 ok status\n        console.log('status ' + JSON.stringify(response));\n\n        if (response.ok) {} //const jwtToken = JSON.stringify(response);\n\n\n        let str = JSON.stringify(response);\n        const token = str.slice(8, -2);\n        localStorage.setItem('JWTToken', token);\n        console.log(localStorage.getItem('JWTToken'));\n        window.location.replace(\"/account\");\n      }).catch(err => {\n        console.log(err);\n      });\n      /* \r\n      fetch(url, {\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n          \"content-type\": \"application/json\"\r\n          //\"accept\": \"application/json\"\r\n        },\r\n        \"body\": JSON.stringify(data),\r\n      })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        //check if we get a 200 ok status\r\n        console.log('status '+ JSON.stringify(response))\r\n          //if(response.ok){\r\n          console.log(\"Test\");\r\n          this.setState({\r\n            jwt: JSON.stringify(response)\r\n            })\r\n          const jwtToken = response.jwt;\r\n            localStorage.setItem('JWTToken', jwtToken)\r\n          console.log(JWTToken)\r\n         // window.location.href= \"/account\";\r\n         window.location.replace(\"/account\")\r\n       // }\r\n       \r\n        \r\n       // this.props.history.push('/account');\r\n        //this.context.history.push('/Account');\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n       \r\n      \r\n      */\n    };\n\n    this.state = {\n      username: 'admin',\n      password: 'admin',\n      jwt: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-fluid d-block mx-auto\",\n      src: \"https://github.com/lvdy7114/FrontEndCapstone/blob/master/meritbank/Capstone%20images/malogo.PNG?raw=true\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, \"Merit Bank\"))), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"username\",\n      name: \"username\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"password\",\n      name: \"password\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, \"Login\"))));\n  }\n\n} // <input type='submit' value='Log In' />\n//\n// <input type='submit' value='Log In' />\n//  <p > {this.state.jwt } </p>\n\nclass Connect extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Connect\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/welcome/:name\",\n      component: WelcomeComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      component: LoginComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      component: LoginComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/logout\",\n      component: LogoutComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/accounts\",\n      component: AccountComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      component: ErrorComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nclass AccountComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/logout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }\n    }, \"logout\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    }, \"Account Information\"), /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/checking\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }, \"Checking Accounts\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/savings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }, \"Savings Account\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/cd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, \"Certificate of Deposit Account (CD)\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/ira\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }, \"Individual Retirement Accounts (IRA)\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nclass LogoutComponent extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }\n    }, \"You are logged out\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }\n    }, \"See you soon.\"));\n  }\n\n}\n\nclass WelcomeComponent extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n      to: \"/logout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }\n    }, \"logout\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }\n    }, \"Welcome!\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }\n    }, \" \", \"Welcome \", this.props.match.params.name, \". Click here to view your Account Information \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 31\n      }\n    }, \"Go to my account\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }\n    })))), \"This is here for testing\", /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.retrieveWelcomeMessage,\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }\n    }, \"Get Welcome Message\")));\n  }\n\n}\n\nfunction ErrorComponent() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 10\n    }\n  }, \"An Error Occurred.\");\n}\n\nclass LoginComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      hasLoginFailed: false,\n      showSuccessMessage: true\n    };\n    /*this.handleUsernameChange = this.handleUsernameChange.bind(this);\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);*/\n\n    this.handleChange = this.handleChange.bind(this);\n    this.loginClicked = this.loginClicked.bind(this);\n  }\n\n  handleChange(event) {\n    //console.log(this.state);\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n  /* handleUsernameChange(event) {\r\n    console.log(event.target.value);\r\n    this.setState(\r\n      { \r\n        [event.target.name] \r\n        :event.target.value\r\n  }\r\n    )\r\n  }\r\n    handlePasswordChange(event) {\r\n    console.log(event.target.value);\r\n    this.setState({ password: event.target.value });\r\n  }\r\n  */\n\n\n  loginClicked() {\n    //hardedcoded authentication\n    if (this.state.username === \"meritbank\" && this.state.password === \"pass\") {\n      this.props.history.push(\"/welcome/\".concat(this.state.username));\n      this.setState({\n        showSuccessMessage: true\n      });\n      this.setState({\n        hasLoginFailed: false\n      });\n    } else {\n      this.setState({\n        showSuccessMessage: false\n      });\n      this.setState({\n        hasLoginFailed: true\n      });\n    } //console.log(this.state)\n\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 7\n      }\n    }, this.state.hasLoginFailed && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 39\n      }\n    }, \"Invalid Credentials\"), this.state.showSuccessMessage && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 43\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-2 col-sm-2 center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-fluid d-block mx-auto\",\n      src: \"https://github.com/lvdy7114/FrontEndCapstone/blob/master/meritbank/Capstone%20images/malogo.PNG?raw=true\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }\n    }, \"Welcome to Merit Online Banking!\")), /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-id-card fa-5x\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }\n    }, \"Please Sign-In:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.loginClicked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }\n    }, \"Login\"));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Mustafa/Documents/MeritBankingService/src/components/login/login.jsx"],"names":["React","Component","BrowserRouter","Router","Route","Switch","Link","Redirect","Login","constructor","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","console","log","state","username","password","url","data","fetch","JSON","stringify","then","response","json","ok","str","token","slice","localStorage","setItem","getItem","window","location","replace","catch","err","jwt","render","Connect","WelcomeComponent","LoginComponent","LogoutComponent","AccountComponent","ErrorComponent","account","match","params","retrieveWelcomeMessage","hasLoginFailed","showSuccessMessage","bind","loginClicked","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Link,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\n\r\n\r\nexport class Login extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={ \r\n      username:'admin', \r\n      password:'admin',\r\n      jwt: ''\r\n    }\r\n  }\r\n  handleChange = event =>{\r\n    this.setState({ [event.target.name]:event.target.value })\r\n  }\r\n  handleSubmit = event =>{\r\n    event.preventDefault();\r\n     console.log('username: ' + this.state.username)\r\n     console.log('password: ' + this.state.password)\r\n  \r\n     const url =\"http://localhost:9090/authenticate\"\r\n\r\n    const data = {\r\n      username:this.state.username,\r\n      password:this.state.password\r\n    }\r\n    \r\n   \r\n    fetch(url, {\r\n      \"method\": \"POST\",\r\n      \"headers\": {\r\n        \r\n        \"content-type\": \"application/json\"\r\n        //\"accept\": \"application/json\"\r\n      },\r\n      \"body\": JSON.stringify(data),\r\n    })\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      //check if we get a 200 ok status\r\n      console.log('status '+JSON.stringify(response))\r\n      if(response.ok){\r\n      }\r\n      //const jwtToken = JSON.stringify(response);\r\n      let str = JSON.stringify(response);\r\n      const token = str.slice(8,-2);\r\n      localStorage.setItem('JWTToken', token);\r\n      \r\nconsole.log(localStorage.getItem('JWTToken'))\r\n\r\n      window.location.replace(\"/account\")\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n\r\n\r\n\r\n  /* \r\n  fetch(url, {\r\n    \"method\": \"POST\",\r\n    \"headers\": {\r\n      \"content-type\": \"application/json\"\r\n      //\"accept\": \"application/json\"\r\n    },\r\n    \"body\": JSON.stringify(data),\r\n  })\r\n  .then(response => response.json())\r\n  .then(response => {\r\n    //check if we get a 200 ok status\r\n    console.log('status '+ JSON.stringify(response))\r\n\r\n    //if(response.ok){\r\n      console.log(\"Test\");\r\n      this.setState({\r\n        jwt: JSON.stringify(response)\r\n\r\n      })\r\n      const jwtToken = response.jwt;\r\n\r\n      localStorage.setItem('JWTToken', jwtToken)\r\n      console.log(JWTToken)\r\n     // window.location.href= \"/account\";\r\n     window.location.replace(\"/account\")\r\n   // }\r\n   \r\n    \r\n   // this.props.history.push('/account');\r\n    //this.context.history.push('/Account');\r\n  })\r\n  .catch(err => {\r\n    console.log(err);\r\n  });\r\n   \r\n\r\n\r\n  */\r\n}\r\n\r\n  \r\n \r\n\r\n  render(){\r\n    return(\r\n  \r\n      <div>\r\n        <div>\r\n        <img\r\n            className=\"img-fluid d-block mx-auto\"\r\n            src=\"https://github.com/lvdy7114/FrontEndCapstone/blob/master/meritbank/Capstone%20images/malogo.PNG?raw=true\"\r\n            alt=\"\"\r\n          />\r\n          <h1><b>Merit Bank</b></h1>\r\n        </div>\r\n        <form  onSubmit={this.handleSubmit}>\r\n          <ul>\r\n            <input type='text' placeholder = 'username' name='username' onChange={this.handleChange} />\r\n            <input type='password' placeholder = 'password' name='password' onChange={this.handleChange} />\r\n            <button onClick={this.handleSubmit}>Login</button>\r\n          </ul>\r\n        \r\n        </form> \r\n      </div>\r\n      \r\n     \r\n      );\r\n     \r\n      }\r\n\r\n    }\r\n// <input type='submit' value='Log In' />\r\n//\r\n// <input type='submit' value='Log In' />\r\n//  <p > {this.state.jwt } </p>\r\n\r\n\r\nclass Connect extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Connect\">\r\n        <Router>\r\n          <>\r\n            <Switch>\r\n              <Route path=\"/welcome/:name\" component={WelcomeComponent} />\r\n              <Route path=\"/\" exact component={LoginComponent} />\r\n              <Route path=\"/login\" component={LoginComponent} />\r\n              <Route path=\"/logout\" component={LogoutComponent} />\r\n              <Route path=\"/accounts\" component={AccountComponent} />\r\n              <Route component={ErrorComponent} />\r\n            </Switch>\r\n          </>\r\n        </Router>\r\n        {/*<WelcomeComponent />\r\n        <LoginComponent />*/}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nclass AccountComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      account: []\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <a href=\"/logout\">logout</a>\r\n        <h4>Account Information</h4>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <p>\r\n                <Link to=\"/checking\">Checking Accounts</Link>\r\n              </p>\r\n              <p>\r\n                <Link to=\"/savings\">Savings Account</Link>\r\n              </p>\r\n              <p>\r\n                <Link to=\"/cd\">Certificate of Deposit Account (CD)</Link>\r\n              </p>\r\n              <Link to=\"/ira\">Individual Retirement Accounts (IRA)</Link>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr />\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass LogoutComponent extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <h4>You are logged out</h4>\r\n        <p>See you soon.</p>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nclass WelcomeComponent extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Link to=\"/logout\">logout</Link>\r\n        <h4>Welcome!</h4>\r\n        <div>\r\n          {\" \"}\r\n          Welcome {this.props.match.params.name}. Click here to view your\r\n          Account Information <a href=\"/account\">Go to my account</a>\r\n        </div>\r\n        <div className=\"container\">\r\n          <div>\r\n            <table>\r\n              <thead>\r\n                <tr />\r\n              </thead>\r\n              <tbody>\r\n                <tr />\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          This is here for testing\r\n          <button\r\n            onClick={this.retrieveWelcomeMessage}\r\n            className=\"btn btn-success\"\r\n          >\r\n            Get Welcome Message\r\n          </button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction ErrorComponent() {\r\n  return <div>An Error Occurred.</div>;\r\n}\r\n\r\nclass LoginComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      hasLoginFailed: false,\r\n      showSuccessMessage: true\r\n    };\r\n\r\n    /*this.handleUsernameChange = this.handleUsernameChange.bind(this);\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);*/\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.loginClicked = this.loginClicked.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    //console.log(this.state);\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  /* handleUsernameChange(event) {\r\n    console.log(event.target.value);\r\n    this.setState(\r\n      { \r\n        [event.target.name] \r\n        :event.target.value\r\n  }\r\n    )\r\n}\r\n\r\n  handlePasswordChange(event) {\r\n    console.log(event.target.value);\r\n    this.setState({ password: event.target.value });\r\n  }\r\n*/\r\n  loginClicked() {\r\n    //hardedcoded authentication\r\n    if (this.state.username === \"meritbank\" && this.state.password === \"pass\") {\r\n      this.props.history.push(`/welcome/${this.state.username}`);\r\n      this.setState({ showSuccessMessage: true });\r\n      this.setState({ hasLoginFailed: false });\r\n    } else {\r\n      this.setState({ showSuccessMessage: false });\r\n      this.setState({ hasLoginFailed: true });\r\n    }\r\n    //console.log(this.state)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/*<ShowInvalidCredentials hasLoginFailed={this.state.hasLoginFailed} />*/}\r\n        {this.state.hasLoginFailed && <div>Invalid Credentials</div>}\r\n        {this.state.showSuccessMessage && <div />}\r\n        {/* <ShowLoginSuccessMessage\r\n          showSuccessMessage={this.state.showSuccessMessage}/>*/}\r\n        <div className=\"col-sm-2 col-sm-2 center\">\r\n          <img\r\n            className=\"img-fluid d-block mx-auto\"\r\n            src=\"https://github.com/lvdy7114/FrontEndCapstone/blob/master/meritbank/Capstone%20images/malogo.PNG?raw=true\"\r\n            alt=\"\"\r\n          />\r\n          <p>Welcome to Merit Online Banking!</p>\r\n        </div>\r\n\r\n        <i class=\"fa fa-id-card fa-5x\" />\r\n        <h4>Please Sign-In:</h4>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={this.state.username}\r\n          onChange={this.handleChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={this.state.password}\r\n          onChange={this.handleChange}\r\n        />\r\n        <button onClick={this.loginClicked}>Login</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}